diff --git a/.stestr b/.stestr
deleted file mode 100644
index 2cd3380..0000000
--- a/.stestr
+++ /dev/null
@@ -1,2 +0,0 @@
-[DEFAULT]
-test_path=./tempest/test_discover
diff --git a/tox.ini b/tox.ini
index edfee15..1fd5a8c 100644
--- a/tox.ini
+++ b/tox.ini
@@ -13,7 +13,7 @@ deps = -r{toxinidir}/requirements.txt
 setenv = VIRTUAL_ENV={envdir}
          OS_TEST_PATH=./tempest/tests
 usedevelop = True
-install_command = pip install -U {opts} {packages}
+install_command = pip install {opts} {packages}
 whitelist_externals = *
 deps = -r{toxinidir}/requirements.txt
        -r{toxinidir}/test-requirements.txt
@@ -21,6 +21,20 @@ commands =
          find . -type f -name "*.pyc" -delete
          bash tools/pretty_tox.sh '{posargs}'
 
+[testenv:ci]
+envdir = .tox/tempest
+sitepackages = {[tempestenv]sitepackages}
+setenv = {[tempestenv]setenv}
+deps = {[tempestenv]deps}
+ignore_errors = True
+commands =
+    find . -type f -name '*.pyc' -delete
+    ostestr --no-slowest --serial --regex '{posargs}'
+    sh -c 'test ! -e .testrepository -a -d .stestr && ln -s .stestr .testrepository || true'
+    sh -c 'testr last --subunit >report.sub'
+    sh -c 'cat report.sub | subunit-trace >report.txt'
+    subunit2html report.sub report.html
+
 [testenv:genconfig]
 commands = oslo-config-generator --config-file tools/config/config-generator.tempest.conf
 
diff --git a/.stestr.conf b/.stestr.conf
new file mode 100644
index 0000000..2cd3380
--- /dev/null
+++ b/.stestr.conf
@@ -0,0 +1,3 @@
+[DEFAULT]
+test_path=./tempest/test_discover
+group_regex=([^\.]*\.)*
